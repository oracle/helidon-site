<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (9.0.4) on Tue Nov 06 23:35:49 UTC 2018 -->
<title>TokenHandler (Helidon 0.10.5 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="date" content="2018-11-06">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-1.10.2.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TokenHandler (Helidon 0.10.5 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":9,"i2":10,"i3":10,"i4":9,"i5":9,"i6":10,"i7":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TokenHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/helidon/security/util/AbacSupport.BasicAttributes.html" title="class in io.helidon.security.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../io/helidon/security/util/TokenHandler.Builder.html" title="class in io.helidon.security.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/helidon/security/util/TokenHandler.html" target="_top">Frames</a></li>
<li><a href="TokenHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><span>SEARCH:&nbsp;</span>
<input type="text" id="search" value=" " disabled="disabled">
<input type="reset" id="reset" value=" " disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInClass">Package</span>&nbsp;<a href="../../../../io/helidon/security/util/package-summary.html" target="classFrame">io.helidon.security.util</a></div>
<h2 title="Class TokenHandler" class="title">Class TokenHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>io.helidon.security.util.TokenHandler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">TokenHandler</span>
extends java.lang.Object</pre>
<div class="block">Extracts a security token from request or updates headers with the token.
 Currently supports headers as sources of tokens. The token is then extracted either
 with a prefix (e.g. basic ) or with a regular expression (first group in the regexp).
 When building header, it is created in the same way. To create a more complicated header, you can
 use configuration option token-format that will be processed using <code>String.format(String, Object...)</code> with the token
 as a single string argument.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/helidon/security/util/TokenHandler.Builder.html" title="class in io.helidon.security.util">TokenHandler.Builder</a></span></code>
<div class="block">Fluent API builder to create <a href="../../../../io/helidon/security/util/TokenHandler.html" title="class in io.helidon.security.util"><code>TokenHandler</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/helidon/security/util/TokenHandler.html#addHeader-java.util.Map-java.lang.String-">addHeader</a></span>(java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;&nbsp;headers,
         java.lang.String&nbsp;token)</code>
<div class="block">Add the token as a new header value.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../io/helidon/security/util/TokenHandler.Builder.html" title="class in io.helidon.security.util">TokenHandler.Builder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/helidon/security/util/TokenHandler.html#builder--">builder</a></span>()</code>
<div class="block">Fluent API builder to create <a href="../../../../io/helidon/security/util/TokenHandler.html" title="class in io.helidon.security.util"><code>TokenHandler</code></a>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.Optional&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/helidon/security/util/TokenHandler.html#extractToken-java.util.Map-">extractToken</a></span>(java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;&nbsp;headers)</code>
<div class="block">Extracts the token from request.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/helidon/security/util/TokenHandler.html#extractToken-java.lang.String-">extractToken</a></span>(java.lang.String&nbsp;tokenRawValue)</code>
<div class="block">Extracts the token from the string value of the header (or other field).</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static <a href="../../../../io/helidon/security/util/TokenHandler.html" title="class in io.helidon.security.util">TokenHandler</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/helidon/security/util/TokenHandler.html#forHeader-java.lang.String-">forHeader</a></span>(java.lang.String&nbsp;header)</code>
<div class="block">A shortcut method to build a token handler that does not modify the token content.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../io/helidon/security/util/TokenHandler.html" title="class in io.helidon.security.util">TokenHandler</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/helidon/security/util/TokenHandler.html#fromConfig-io.helidon.config.Config-">fromConfig</a></span>(<a href="../../../../io/helidon/config/Config.html" title="interface in io.helidon.config">Config</a>&nbsp;config)</code>
<div class="block">Create a <a href="../../../../io/helidon/security/util/TokenHandler.html" title="class in io.helidon.security.util"><code>TokenHandler</code></a> from configuration.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/helidon/security/util/TokenHandler.html#getTokenHeader--">getTokenHeader</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/helidon/security/util/TokenHandler.html#setHeader-java.util.Map-java.lang.String-">setHeader</a></span>(java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;&nbsp;headers,
         java.lang.String&nbsp;token)</code>
<div class="block">Set the token as a new header.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="builder--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>builder</h4>
<pre>public static&nbsp;<a href="../../../../io/helidon/security/util/TokenHandler.Builder.html" title="class in io.helidon.security.util">TokenHandler.Builder</a>&nbsp;builder()</pre>
<div class="block">Fluent API builder to create <a href="../../../../io/helidon/security/util/TokenHandler.html" title="class in io.helidon.security.util"><code>TokenHandler</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>new builder instance</dd>
</dl>
</li>
</ul>
<a name="forHeader-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forHeader</h4>
<pre>public static&nbsp;<a href="../../../../io/helidon/security/util/TokenHandler.html" title="class in io.helidon.security.util">TokenHandler</a>&nbsp;forHeader(java.lang.String&nbsp;header)</pre>
<div class="block">A shortcut method to build a token handler that does not modify the token content.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>header</code> - header name (to read or write to)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new instance for the header name</dd>
</dl>
</li>
</ul>
<a name="fromConfig-io.helidon.config.Config-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fromConfig</h4>
<pre>public static&nbsp;<a href="../../../../io/helidon/security/util/TokenHandler.html" title="class in io.helidon.security.util">TokenHandler</a>&nbsp;fromConfig(<a href="../../../../io/helidon/config/Config.html" title="interface in io.helidon.config">Config</a>&nbsp;config)</pre>
<div class="block">Create a <a href="../../../../io/helidon/security/util/TokenHandler.html" title="class in io.helidon.security.util"><code>TokenHandler</code></a> from configuration.
 Expected configuration (to be located on token key):
 <pre>
 token {
   header = "Authorization"
   # or do not specify - then the whole header is considered to be the token value
   prefix = "bearer "
   # optional alternative - looking for first matching group
   #regexp = "bearer (.*)"
 }
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>config</code> - config to parse into an instance of this object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new instance configured from config</dd>
</dl>
</li>
</ul>
<a name="extractToken-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extractToken</h4>
<pre>public&nbsp;java.util.Optional&lt;java.lang.String&gt;&nbsp;extractToken(java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;&nbsp;headers)</pre>
<div class="block">Extracts the token from request.
 If expected header is not present, returns empty optional, otherwise
 parses the token according to configuration.
 If the header does not satisfy the configuration (e.g. invalid prefix, wrong pattern), throws exception.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>headers</code> - Headers to extract token from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>token value or empty in case the token is not present in request</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.SecurityException</code> - in case the token data is malformed</dd>
</dl>
</li>
</ul>
<a name="extractToken-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extractToken</h4>
<pre>public&nbsp;java.lang.String&nbsp;extractToken(java.lang.String&nbsp;tokenRawValue)</pre>
<div class="block">Extracts the token from the string value of the header (or other field).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tokenRawValue</code> - such as "bearer AAAAAAA"</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>token extracted based on the configured rules</dd>
</dl>
</li>
</ul>
<a name="getTokenHeader--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTokenHeader</h4>
<pre>public&nbsp;java.lang.String&nbsp;getTokenHeader()</pre>
</li>
</ul>
<a name="setHeader-java.util.Map-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setHeader</h4>
<pre>public&nbsp;void&nbsp;setHeader(java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;&nbsp;headers,
                      java.lang.String&nbsp;token)</pre>
<div class="block">Set the token as a new header.
 Creates the header if not present, replaces header value if present.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>headers</code> - Headers to update</dd>
<dd><code>token</code> - Token value</dd>
</dl>
</li>
</ul>
<a name="addHeader-java.util.Map-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>addHeader</h4>
<pre>public&nbsp;void&nbsp;addHeader(java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;&nbsp;headers,
                      java.lang.String&nbsp;token)</pre>
<div class="block">Add the token as a new header value.
 Creates the header if not present, adds header value to list of values if present.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>headers</code> - Headers to update</dd>
<dd><code>token</code> - Token value</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TokenHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/helidon/security/util/AbacSupport.BasicAttributes.html" title="class in io.helidon.security.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../io/helidon/security/util/TokenHandler.Builder.html" title="class in io.helidon.security.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/helidon/security/util/TokenHandler.html" target="_top">Frames</a></li>
<li><a href="TokenHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2018,                                 <a href="http://www.oracle.com">Oracle</a>                                 and/or its affiliates.                                 All Rights Reserved. Use is subject to license terms.</small></p>
</body>
</html>